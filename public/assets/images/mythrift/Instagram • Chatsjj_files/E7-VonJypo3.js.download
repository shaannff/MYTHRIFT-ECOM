;/*FB_PKG_DELIM*/

__d("IGDMessageButton.react",["IGDSIconButton.react","IGDSTooltip.react","PolarisIGCorePressable.react","qex","react","useCurrentDisplayMode","useIGDDeviceType"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useState,k={button:{opacity:"x15vok9n",":active_opacity":"x4gyw5p",":hover_opacity":"x1o7uuvo",$$css:!0},buttonWithHover:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",height:"xxk0z11",opacity:"x1hc1fzr",width:"xvy4d1p",":hover_backgroundColor":"x15vn3sj",$$css:!0}};function a(a){var b=a.label,e=a.xstyle;a=babelHelpers.objectWithoutPropertiesLoose(a,["label","xstyle"]);var f=c("qex")._("762")===!0,g=j(!1),h=g[0],l=g[1];g=i.jsx(c("IGDSIconButton.react"),babelHelpers["extends"]({},a,{xstyle:[k.button,f===!0?k.buttonWithHover:null,e]}));a=c("useCurrentDisplayMode")();e=a==="dark";a=d("useIGDDeviceType").useIGDDeviceType();a=a.isMobile;e=i.jsx(c("IGDSTooltip.react"),{align:"middle",color:e?"primary":"black",isVisible:a?!1:h,position:"above",tooltip:b,children:i.jsx(c("PolarisIGCorePressable.react"),{onMouseEnter:function(){l(!0)},onMouseLeave:function(){l(!1)},onPress:function(){},children:g})});return f?e:g}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDMessageMoreMenuButton.react",["fbt","IGDInstamadilloUtils","IGDMessageButton.react","IGDSLazyPopoverTrigger.react","IGDThreadListNewMessageLoggingDataContext","LSMessagingThreadTypeUtil","MessengerWebUXLogger","cr:4851","react","requireDeferred"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=c("requireDeferred")("IGDMessageMoreMenuPopover.react").__setRef("IGDMessageMoreMenuButton.react");function a(a){var e=a.isCopyable,f=a.isForwardable,g=a.isMessageRequest,i=a.isReportable,l=a.isUnsendable,m=a.message,n=a.outgoing,o=a.setMoreMenuOpen,p=a.setReportDialogOpen,q=a.setUnsendDialogOpen,r=a.shouldRenderReply;a=a.thread;var s=h._("__JHASH__nNxAei6AI9v__JHASH__"),t=c("MessengerWebUXLogger").useInteractionLogger(),u=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceId(),v=function(a){t==null?void 0:t({eventName:"open_message_options",flowInstanceId:u.current}),a()};return j.jsx(c("IGDSLazyPopoverTrigger.react"),{align:n?"end":"start",onVisibilityChange:o,popoverProps:{isCopyable:e,isForwardable:f,isGroup:d("LSMessagingThreadTypeUtil").isGroup(a.threadType),isMessageRequest:g,isReportable:i,isSecure:d("IGDInstamadilloUtils").isInstamadilloMessage(m),isUnsendable:l,message:m,setReportDialogOpen:p,setUnsendDialogOpen:q,shouldRenderReply:r,thread:a},popoverResource:k,popoverType:"menu",position:"above",children:function(a,d){return j.jsx(c("IGDMessageButton.react"),{innerRef:a,label:s,onClick:function(){return v(d)},children:j.jsx(b("cr:4851"),{alt:s,color:"ig-primary-text","data-testid":void 0,size:16})})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDMessageReactionButton.react",["fbt","EmojiFormat.bs","IGDMessageButton.react","IGDSFace2OutlineIcon.react","IGDSLazyPopoverTrigger.react","IGDThreadListNewMessageLoggingDataContext","MWV2MessageReactionHooks","MessengerWebUXLogger","UnicodeUtils","emptyFunction","qex","react","requireDeferred","useIGDGlobalReactMessage"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||(i=d("react")),l=i.useCallback,m=c("requireDeferred")("IGDComposerEmojiPicker.react").__setRef("IGDMessageReactionButton.react");function a(a){var b=a.message,e=a.outgoing,f=a.setReactionsMenuOpen,g=d("MWV2MessageReactionHooks").MWV2MessageReactionHooks.useSelectedReaction(b),i=c("useIGDGlobalReactMessage")(b,"reaction_tray");a=l(function(a){var b=d("EmojiFormat.bs").codeArrayToUnicode(a);if(g!=null){var c=(j||(j=d("UnicodeUtils"))).getCodePoints(g);b===g&&(b=void 0);c[0]===10084&&a[0]===10084&&(b=void 0)}i(b,"reaction")},[g,i]);e=e?"end":"start";var n=c("emptyFunction");n={closeAfterSelect:!0,onClose:n,onSelect:a,showPopoverArrow:!1};a=c("qex")._("762")===!0;var o=h._("__JHASH__BdkUyl8gsw5__JHASH__"),p=h._("__JHASH__lHWykrNu5cj__JHASH__"),q=a?p:o,r=c("MessengerWebUXLogger").useInteractionLogger(),s=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceId(),t=function(a){r==null?void 0:r({eventName:"reaction_open_emoji_picker",extraData:{message_id:b.messageId},flowInstanceId:s.current}),a()};return k.jsx(c("IGDSLazyPopoverTrigger.react"),{align:e,onVisibilityChange:function(a){return f(function(){return a})},popoverProps:n,popoverResource:m,popoverType:"dialog",position:"above",children:function(a,b){return k.jsx(c("IGDMessageButton.react"),{innerRef:a,label:q,onClick:function(){return t(b)},children:k.jsx(c("IGDSFace2OutlineIcon.react"),{alt:q,color:"ig-primary-text","data-testid":void 0,size:16})})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDMessageReplyButton.react",["IGDMessageButton.react","cr:4855","react","useIGDMessageReply.react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var d=a.message,e=a.onClose;a=a.thread;d=c("useIGDMessageReply.react")(d,a,e);a=d[0];e=d[1];return i.jsx(c("IGDMessageButton.react"),{label:e,onClick:a,children:i.jsx(b("cr:4855"),{alt:e,color:"ig-primary-text","data-testid":void 0,size:16})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPBaseMessageListRowActions.react",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={incoming:{flexDirection:"x1q0g3np",$$css:!0},outgoing:{flexDirection:"x15zctf7",$$css:!0},root:{alignItems:"x6s0dn4",display:"x78zum5",rowGap:"xzgd20w",columnGap:"xl5lk40",width:"xpdutdq",$$css:!0}};function l(a){var b=a.children;a=a.outgoing;return j.jsx("div",{className:(h||(h=c("stylex")))(k.root,a?k.outgoing:k.incoming),role:"none",children:b})}l.displayName=l.name+" [from "+f.id+"]";function a(a){a=a.children;return j.jsx("div",{children:a})}a.displayName=a.name+" [from "+f.id+"]";function b(a){var b=a.ariaHidden,d=a.children,e=a.hasReactions,f=a.outgoing;a=a.xstyle;return j.jsx("div",{"aria-hidden":(b=b)!=null?b:!1,className:(h||(h=c("stylex")))(m.root,e?m.moveUpToAccountForReactions:!1,f?m.outgoing:m.incoming,a!=null?a:!1),children:j.jsx(l,{outgoing:f,children:d})})}b.displayName=b.name+" [from "+f.id+"]";var m={incoming:{paddingStart:"x1t2a60a",paddingLeft:null,paddingRight:null,$$css:!0},moveUpToAccountForReactions:{paddingBottom:"x1hhzuzn",$$css:!0},outgoing:{paddingEnd:"x1mpkggp",paddingLeft:null,paddingRight:null,$$css:!0},root:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",flexShrink:"x2lah0s",justifyContent:"xl56j7k",position:"x1n2onr6",width:"xpdutdq",zIndex:"x1n327nk",$$css:!0}};g.MWPBaseMessageListRowActionsList=l;g.MWPBaseMessageListRowActionsListItem=a;g.MWPBaseMessageListRowActionsContainer=b}),98);
__d("IGDMessageRowActions.react",["I64","IGDMessageMoreMenuButton.react","IGDMessageReactionButton.react","IGDMessageReplyButton.react","LSBitFlag","LSContactBitOffset","LSContactBlockedByViewerStatus","LSIntEnum","LSMessageReplySourceTypeV2","LSMessagingThreadTypeUtil","LSThreadBitOffset","MWPActor.react","MWPBaseMessageListRowActions.react","MWPMessageHasAttachment","MessagingAttachmentType","ReQL","ReQLSuspense","cr:8979","cr:8980","cr:8981","gkx","qex","react","useGenAIFeedbackSubmissionStatus","useIGDDeviceType","useIGDIsGenAiFeedbackEnabled","useIGDShowPersistentGenAIFeedbackButtons","useIsReadOnlyFeatureLimited","useIsThreadBlocked","useMWPCanRemoveMessageGlobally","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=i||(i=d("react")),m=i.useState,n={container:{maxWidth:"x1k2d6hx",$$css:!0}},o=[(k||(k=d("LSIntEnum"))).ofNumber(1),k.ofNumber(16384),k.ofNumber(2),k.ofNumber(4)],p=function(){return c("qex")._("121")===!0};function q(a){var e=a.message,g=a.outgoing,i=a.setMoreMenuOpen,m=a.setReactionsMenuOpen,n=a.setReportDialogOpen,q=a.setUnsendDialogOpen;a=a.thread;var r=(h||(h=c("useReStore")))(),s=d("MWPActor.react").useActor(),t=c("useIsThreadBlocked")(),u=c("useIsReadOnlyFeatureLimited")(),v=a.threadKey,w=a.threadType,x=e.displayedContentTypes,y=e.messageId,z=e.senderId,A=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(r.tables.contacts,["blockedByViewerStatus","capabilities","capabilities2"]).getKeyRange(z)},[r,z],f.id+":104"),B=c("MWPMessageHasAttachment")(e),C=d("ReQLSuspense").useFirst(function(){return B?d("ReQL").fromTableAscending(r.tables.attachments,["attachmentType","isSharable"]).getKeyRange(v,y):d("ReQL").empty()},[r,v,y,B],f.id+":116");s=(j||(j=d("I64"))).equal(z,s);var D=!s&&d("LSMessagingThreadTypeUtil").isOneToOne(w)&&A!=null?!(j||(j=d("I64"))).equal(A.blockedByViewerStatus,(k||(k=d("LSIntEnum"))).ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED)):!1,E=A!=null&&d("LSContactBitOffset").has(66,A);A=A!=null&&d("LSContactBitOffset").has(18,A);var F=d("LSMessagingThreadTypeUtil").isIGDMessageRequest(a);A=A&&!s&&o.findIndex(function(a){return(j||(j=d("I64"))).equal(x,a)})!==-1;var G=C!=null&&((j||(j=d("I64"))).equal(C.attachmentType,(k||(k=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").EPHEMERAL_IMAGE))||(j||(j=d("I64"))).equal(C.attachmentType,(k||(k=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").EPHEMERAL_VIDEO))),H=C!=null&&(j||(j=d("I64"))).equal(C.attachmentType,(k||(k=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").AUDIO)),I=(j||(j=d("I64"))).equal(x,d("LSBitFlag").empty)&&!G;s=c("useMWPCanRemoveMessageGlobally")(e)&&s;C=C!=null&&(j||(j=d("I64"))).equal(C.attachmentType,(k||(k=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").XMA))?C.isSharable:!0;var J=e.replySourceTypeV2!=null&&(k||(k=d("LSIntEnum"))).toNumber(e.replySourceTypeV2)===c("LSMessageReplySourceTypeV2").FORWARD,K=(j||(j=d("I64"))).equal(x,(k||(k=d("LSIntEnum"))).ofNumber(1))||(j||(j=d("I64"))).equal(x,(k||(k=d("LSIntEnum"))).ofNumber(1033));K=K||J&&!!e.text;J=!t&&!E&&!F&&!u&&!e.isUnsent&&!I&&(d("LSMessagingThreadTypeUtil").isSecure(w)?p():!0)&&d("LSThreadBitOffset").has(103,a)&&C&&!D&&!(j||(j=d("I64"))).equal(e.displayedContentTypes,(k||(k=d("LSIntEnum"))).ofNumber(256))&&!G&&!H;w=d("useIGDDeviceType").useIGDDeviceType();C=w.isMobile;D=c("useIGDIsGenAiFeedbackEnabled")(e.botResponseId);G=c("useGenAIFeedbackSubmissionStatus")(e.botResponseId);H=c("useIGDShowPersistentGenAIFeedbackButtons")(e.threadKey,e.botResponseId);w=D&&G==null;G=C?w:H;H=C||G?!1:w;C=H&&b("cr:8981")?l.jsx(d("MWPBaseMessageListRowActions.react").MWPBaseMessageListRowActionsListItem,{children:l.jsx(b("cr:8981"),{message:e})}):null;w=H&&b("cr:8980")?l.jsx(d("MWPBaseMessageListRowActions.react").MWPBaseMessageListRowActionsListItem,{children:l.jsx(b("cr:8980"),{message:e})}):null;var L=!t&&!E&&!F&&!u&&d("LSThreadBitOffset").has(42,a)&&!e.isUnsent&&!I&&!H&&!G,M=d("LSThreadBitOffset").has(18,a),N=d("LSThreadBitOffset").has(139,a),O=d("LSThreadBitOffset").has(169,a);t=!t&&!E&&!F&&!u&&!e.isUnsent&&!I&&(N?O:M)&&!H&&!G;E=c("gkx")("6963");u=E||!I&&(J||s||K||A);N=t?l.jsx(d("MWPBaseMessageListRowActions.react").MWPBaseMessageListRowActionsListItem,{children:l.jsx(c("IGDMessageReactionButton.react"),{message:e,outgoing:g,setReactionsMenuOpen:m})}):null;O=L?l.jsx(d("MWPBaseMessageListRowActions.react").MWPBaseMessageListRowActionsListItem,{children:l.jsx(c("IGDMessageReplyButton.react"),{message:e,thread:a})}):null;M=u?l.jsx(d("MWPBaseMessageListRowActions.react").MWPBaseMessageListRowActionsListItem,{children:b("cr:8979")?l.jsx(b("cr:8979"),{message:e,outgoing:g,thread:a}):l.jsx(c("IGDMessageMoreMenuButton.react"),{isCopyable:K,isForwardable:J,isMessageRequest:F,isReportable:A,isUnsendable:s,message:e,outgoing:g,setMoreMenuOpen:i,setReportDialogOpen:n,setUnsendDialogOpen:q,shouldRenderReply:D,thread:a})}):null;return l.jsxs(d("MWPBaseMessageListRowActions.react").MWPBaseMessageListRowActionsList,{outgoing:g,children:[C,w,N,O,M]})}q.displayName=q.name+" [from "+f.id+"]";function r(a){var b=a.ariaHidden;b=b===void 0?!1:b;var c=a.focused,e=a.hasReactions,f=a.hovered,g=a.message,h=a.outgoing,i=a.setReportDialogOpen,j=a.setUnsendDialogOpen;a=a.thread;var k=m(!1),o=k[0];k=k[1];var p=m(!1),r=p[0];p=p[1];f=f||c||r||o;return l.jsx(d("MWPBaseMessageListRowActions.react").MWPBaseMessageListRowActionsContainer,{ariaHidden:b,hasReactions:e,outgoing:h,xstyle:h?null:n.container,children:f?l.jsx(q,{message:g,outgoing:h,setMoreMenuOpen:k,setReactionsMenuOpen:p,setReportDialogOpen:i,setUnsendDialogOpen:j,thread:a}):null})}r.displayName=r.name+" [from "+f.id+"]";function a(a){var b=a.ariaHidden;b=b===void 0?!1:b;var e=a.focused,g=a.hasReactions,i=a.hovered,j=a.message,k=a.outgoing,m=a.setReportDialogOpen;a=a.setUnsendDialogOpen;var n=(h||(h=c("useReStore")))(),o=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(n.tables.threads,["parentThreadKey","threadKey","threadSubtype","threadType"].concat(d("LSThreadBitOffset").threadCapabilityFields)).getKeyRange(j.threadKey)},[n,j.threadKey],f.id+":438");return o!=null?l.jsx(r,{ariaHidden:b,focused:e,hasReactions:g,hovered:i,message:j,outgoing:k,setReportDialogOpen:m,setUnsendDialogOpen:a,thread:o}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDMessageMoreContextMenuButton.react",["fbt","IGDMessageButton.react","IGDSLazyPopoverTrigger.react","IGDSMoreVerticalPanoOutline24Icon.react","IGDThreadListNewMessageLoggingDataContext","MessengerWebUXLogger","react","requireDeferred"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=c("requireDeferred")("IGDMessageContextMenu.react").__setRef("IGDMessageMoreContextMenuButton.react");function a(a){var b=a.message,e=a.outgoing;a=a.thread;var f=h._("__JHASH__nNxAei6AI9v__JHASH__"),g=c("MessengerWebUXLogger").useInteractionLogger(),i=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceId(),l=function(a){g==null?void 0:g({eventName:"open_message_options",flowInstanceId:i.current}),a()};return j.jsx(c("IGDSLazyPopoverTrigger.react"),{align:e?"end":"start",popoverProps:{message:b,thread:a},popoverResource:k,popoverType:"menu",position:"above",children:function(a,b){return j.jsx(c("IGDMessageButton.react"),{innerRef:a,label:f,onClick:function(){return l(b)},children:j.jsx(c("IGDSMoreVerticalPanoOutline24Icon.react"),{alt:f,color:"ig-primary-text","data-testid":void 0,size:16})})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);