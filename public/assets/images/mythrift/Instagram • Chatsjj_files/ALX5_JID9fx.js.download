;/*FB_PKG_DELIM*/

__d("LSSubmitGenAIBotFeedback",["LSIssueNewTaskWithExtraOperations"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("bot_feedback_kind",a[0]),d[0].set("bot_response_id",a[1]),d[1]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTaskWithExtraOperations"),"submit_gen_ai_bot_feedback",c.i64.cast([0,756]),d[1],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),void 0,c.i64.cast([0,0]))},function(b){return c.db.table(315).fetch([[[a[1]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[2]=c.i64.cast([0,0]):(b=a.item,d[2]=b.feedbackSubmissionStatus)})},function(b){return c.i64.eq(d[2],c.i64.cast([0,0]))?c.db.table(315).add({botResponseId:a[1],feedbackSubmissionStatus:c.i64.cast([0,1])}):c.resolve(0)}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSSubmitGenAIBotFeedbackStoredProcedure",["LSSubmitGenAIBotFeedback"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.botFeedbackKind;d[1]=b.botResponseId;return c("LSSubmitGenAIBotFeedback").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("useMWV2SubmitFeedbackAction",["LSFactory","LSIntEnum","LSSubmitGenAIBotFeedbackStoredProcedure","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(j||d("react")).useCallback;function a(a,b){var e=(h||(h=c("useReStore")))();return k(function(f){c("promiseDone")(e.runInTransaction(function(b){return c("LSSubmitGenAIBotFeedbackStoredProcedure")(c("LSFactory")(b),{botFeedbackKind:(i||(i=d("LSIntEnum"))).ofNumber(f),botResponseId:a||""})},"readwrite"),b)},[e,a,b])}g["default"]=a}),98);
__d("IGDMessageNegativeFeedbackButton.react",["fbt","IGDMessageButton.react","IGDSDialogPlaceholder.react","IGDSThumbDownPanoOutline24Icon.react","JSResourceForInteraction","emptyFunction","react","useIGDSLazyDialog","useIGDSToaster","useMWV2SubmitFeedbackAction"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useCallback;function a(a){var b=a.message,d=c("useIGDSToaster")();a=k(function(){d.add({message:h._("__JHASH__szyqZwWEpgN__JHASH__"),target:"bottom-left"})},[d]);var e=c("useMWV2SubmitFeedbackAction")(b.botResponseId,a);a=c("useIGDSLazyDialog")(c("JSResourceForInteraction")("MWV2SubmitNegativeFeedbackDialog.react").__setRef("IGDMessageNegativeFeedbackButton.react"),function(a){return j.jsx(c("IGDSDialogPlaceholder.react"),{fixedHeight:!0,onClose:a,size:"large"})});var f=a[0];a=h._("__JHASH__7ndOyL_QgDy__JHASH__");var g=k(function(){f({message:b,onSubmit:e},c("emptyFunction"))},[f,b,e]);return j.jsx(c("IGDMessageButton.react"),{"data-testid":void 0,label:a,onClick:g,children:j.jsx(c("IGDSThumbDownPanoOutline24Icon.react"),{alt:a,color:"ig-primary-text",size:16})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("BotFeedbackKind",[],(function(a,b,c,d,e,f){a=Object.freeze({BOT_FEEDBACK_POSITIVE:0,BOT_FEEDBACK_NEGATIVE_GENERIC:1,BOT_FEEDBACK_NEGATIVE_HELPFUL:2,BOT_FEEDBACK_NEGATIVE_INTERESTING:3,BOT_FEEDBACK_NEGATIVE_ACCURATE:4,BOT_FEEDBACK_NEGATIVE_SAFE:5,BOT_FEEDBACK_NEGATIVE_OTHER:6,BOT_FEEDBACK_NEGATIVE_REFUSED:7,BOT_FEEDBACK_NEGATIVE_NOT_VISUALLY_APPEALING:8,BOT_FEEDBACK_NEGATIVE_NOT_RELEVANT_TO_TEXT:9});f["default"]=a}),66);
__d("IGDMessagePositiveFeedbackButton.react",["fbt","BotFeedbackKind","IGDMessageButton.react","IGDSThumbUpPanoOutline24Icon.react","IGDThreadListNewMessageLoggingDataContext","MessengerWebUXLogger","react","useIGDSToaster","useMWV2SubmitFeedbackAction"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useCallback,l=b.useMemo;function a(a){var b=a.message,e=c("useIGDSToaster")();a=k(function(){e.add({message:h._("__JHASH__szyqZwWEpgN__JHASH__"),target:"bottom-left"})},[e]);var f=c("useMWV2SubmitFeedbackAction")(b.botResponseId,a),g=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceId(),i=l(function(){var a;return{extraData:{botResponseId:(a=b.botResponseId)!=null?a:""},flowInstanceId:g.current}},[b.botResponseId,g]),m=c("MessengerWebUXLogger").useInteractionLogger();a=h._("__JHASH__FtoE8geHXMB__JHASH__");var n=k(function(){f(c("BotFeedbackKind").BOT_FEEDBACK_POSITIVE),m==null?void 0:m(babelHelpers["extends"]({eventName:"submit_positive_feedback"},i))},[f,m,i]);return j.jsx(c("IGDMessageButton.react"),{"data-testid":void 0,label:a,onClick:n,children:j.jsx(c("IGDSThumbUpPanoOutline24Icon.react"),{alt:a,color:"ig-primary-text",size:16})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDMessageRowGenAiFeedbackActions.react",["IGDMessageNegativeFeedbackButton.react","IGDMessagePositiveFeedbackButton.react","IGDSBox.react","MWPBaseMessageListRowActions.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={container:{maxWidth:"x1k2d6hx",$$css:!0}};function a(a){var b=a.ariaHidden,e=a.hasReactions,f=a.message;a=a.outgoing;return i.jsx(d("MWPBaseMessageListRowActions.react").MWPBaseMessageListRowActionsContainer,{ariaHidden:b,hasReactions:e,outgoing:a,xstyle:j.container,children:i.jsxs(c("IGDSBox.react"),{direction:"row",children:[i.jsx(c("IGDMessagePositiveFeedbackButton.react"),{message:f}),i.jsx(c("IGDMessageNegativeFeedbackButton.react"),{message:f})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDMessageContextMenuItem.react",["IGDSContextMenuItem.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={container:{paddingBottom:"xwib8y2",paddingEnd:"x1sxyh0",paddingLeft:null,paddingRight:null,paddingStart:"xurb0ha",paddingTop:"x1y1aw1k",$$css:!0}};function a(a){var b=a.delimiter,c=a.icon,e=a.label,f=a.labelProps,g=a.onClick;a=a.testid;return i.jsx(d("IGDSContextMenuItem.react").IGDSContextMenuItem,{addOnEnd:c,delimiter:b,onPress:g,testid:void 0,title:e,titleProps:f,xstyle:j.container})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDSCopyPanoOutline24Icon.react",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsx(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:i.jsx("path",{d:"m20.12 4.707-2.826-2.828A3.026 3.026 0 0 0 15.17 1h-5.167A3.007 3.007 0 0 0 7 4.004V5h-.996A3.007 3.007 0 0 0 3 8.004v11.992A3.007 3.007 0 0 0 6.004 23h7.992A3.007 3.007 0 0 0 17 19.996V19h.996A3.007 3.007 0 0 0 21 15.996V6.83a2.98 2.98 0 0 0-.88-2.123ZM18.586 6 16 6.001V3.414L18.586 6ZM15 19.996C15 20.55 14.55 21 13.996 21H6.004C5.45 21 5 20.55 5 19.996V8.004C5 7.45 5.45 7 6.004 7H7v8.996A3.007 3.007 0 0 0 10.004 19H15v.996ZM17.996 17h-7.992C9.45 17 9 16.55 9 15.996V4.004C9 3.45 9.45 3 10.004 3H14v3.001A2 2 0 0 0 15.999 8H19v7.996C19 16.55 18.55 17 17.996 17Z"})}))}a.displayName=a.name+" [from "+f.id+"]";b=i.memo(a);g["default"]=b}),98);
__d("useIGDMessageCopyMenuItem.react",["fbt","Clipboard","I64","IGDMessageContextMenuItem.react","IGDSCopyPanoOutline24Icon.react","IGDThreadListNewMessageLoggingDataContext","LSIntEnum","LSMessageReplySourceTypeV2","MWPActor.react","MessengerWebUXLogger","promiseDone","react","requireDeferred","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=l||d("react"),n=c("requireDeferred")("MWLogMessageAction").__setRef("useIGDMessageCopyMenuItem.react");function a(a,b){var e=(i||(i=c("useReStore")))(),f=d("MWPActor.react").useActor(),g=c("MessengerWebUXLogger").useInteractionLogger(),l=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceId(),o=a.displayedContentTypes,p=a.replySourceTypeV2!=null&&(j||(j=d("LSIntEnum"))).toNumber(a.replySourceTypeV2)===c("LSMessageReplySourceTypeV2").FORWARD;o=(k||(k=d("I64"))).equal(o,(j||(j=d("LSIntEnum"))).ofNumber(1))||(k||(k=d("I64"))).equal(o,(j||(j=d("LSIntEnum"))).ofNumber(1033));o=o||p&&!!a.text;if(!o)return null;p=h._("__JHASH__3LRiqsZl3CP__JHASH__");o=function(){var h;g==null?void 0:g({eventName:"message_copy",flowInstanceId:l.current});d("Clipboard").copy((h=a.text)!=null?h:"");b();n.onReady(function(b){return c("promiseDone")(b.log(e,a.messageId,a.threadKey,"message_dot_menu","copy",void 0,void 0,void 0,a.senderId,void 0,f))})};return m.jsx(c("IGDMessageContextMenuItem.react"),{icon:m.jsx(c("IGDSCopyPanoOutline24Icon.react"),{alt:p,size:18}),label:p,onClick:o})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useIGDMessageForwardMenuItem.react",["fbt","I64","IGDContactSearchDialogType.flow","IGDMessageContextMenuItem.react","IGDSDialogPlaceholder.react","IGDSDirectOutlineIcon.react","IGDThreadListNewMessageLoggingDataContext","JSResourceForInteraction","LSBitFlag","LSContactBitOffset","LSContactBlockedByViewerStatus","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","MWLSThread","MWPActor.react","MWPMessageHasAttachment","MessagingAttachmentType","MessengerWebUXLogger","Promise","ReQL","ReQLSuspense","asyncToGeneratorRuntime","qex","react","useIGDSLazyDialog","useIsReadOnlyFeatureLimited","useIsThreadBlocked","useMWV2ForwardMessage","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m,n=m||d("react"),o=function(){return c("qex")._("121")===!0};function p(a){switch(a.type){case"thread":return{NAME:"Group",VAL:a.candidate.id};case"user":return{NAME:"User",VAL:a.candidate.id}}}function a(a,e){var g=(j||(j=c("useReStore")))(),m=d("MWPActor.react").useActor(),q=a.displayedContentTypes,r=a.messageId,s=a.senderId,t=a.threadKey,u=c("useIsReadOnlyFeatureLimited")(),v=c("useIsThreadBlocked")(),w=d("MWLSThread").useThreadExn(a.threadKey),x=w.threadType,y=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(g.tables.contacts).getKeyRange(s)},[g,s],f.id+":83"),z=y!=null&&d("LSContactBitOffset").has(66,y),A=d("LSThreadBitOffset").has(103,w);w=d("LSMessagingThreadTypeUtil").isIGDMessageRequest(w);var B=(k||(k=d("I64"))).equal(a.displayedContentTypes,(l||(l=d("LSIntEnum"))).ofNumber(256));m=k.equal(s,m);m=!m&&d("LSMessagingThreadTypeUtil").isOneToOne(x)&&y!=null?!(k||(k=d("I64"))).equal(y.blockedByViewerStatus,(l||(l=d("LSIntEnum"))).ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED)):!1;var C=c("MWPMessageHasAttachment")(a);y=d("ReQLSuspense").useFirst(function(){return C?d("ReQL").fromTableAscending(g.tables.attachments).getKeyRange(t,r):d("ReQL").empty()},[g,t,r,C],f.id+":120");var D=y!=null&&((k||(k=d("I64"))).equal(y.attachmentType,(l||(l=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").EPHEMERAL_IMAGE))||(k||(k=d("I64"))).equal(y.attachmentType,(l||(l=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").EPHEMERAL_VIDEO))),E=y!=null&&(k||(k=d("I64"))).equal(y.attachmentType,(l||(l=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").AUDIO));y=y!=null&&(k||(k=d("I64"))).equal(y.attachmentType,(l||(l=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").XMA))?y.isSharable:!0;q=(k||(k=d("I64"))).equal(q,d("LSBitFlag").empty)&&!D;var F=c("useMWV2ForwardMessage")(a,x),G=c("MessengerWebUXLogger").useInteractionLogger(),H=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceId(),I=c("useIGDSLazyDialog")(c("JSResourceForInteraction")("IGDAWOminipickerDialog.react").__setRef("useIGDMessageForwardMenuItem.react"),function(a){return n.jsx(c("IGDSDialogPlaceholder.react"),{fixedHeight:!0,onClose:a,size:"large"})}),J=I[0];I=!v&&!z&&!w&&!u&&!a.isUnsent&&!q&&(d("LSMessagingThreadTypeUtil").isSecure(x)?o():!0)&&A&&y&&!m&&!B&&!D&&!E;if(!I)return null;var K=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=Array.from(a.values()).map(function(a){return F(p(a))});yield (i||(i=b("Promise"))).allSettled(a)});return function(b){return a.apply(this,arguments)}}();v=function(){G==null?void 0:G({eventName:"message_forward",flowInstanceId:H.current}),J({includeGroup:!0,maxRecipients:5,onSubmit:K,searchType:d("IGDContactSearchDialogType.flow").IGDContactSearchDialogType.FORWARD_MESSAGE,submitButtonLabel:h._("__JHASH__Mg5C78xztSX__JHASH__").toString(),titleLabel:h._("__JHASH__vSmnaQ11N0G__JHASH__").toString()},e)};z=h._("__JHASH__YherSGbeO3h__JHASH__");return n.jsx(c("IGDMessageContextMenuItem.react"),{icon:n.jsx(c("IGDSDirectOutlineIcon.react"),{alt:z,size:18}),label:z,onClick:v,testid:void 0})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useIGDMessageInspectMenuItem.react",["fbt","IGDMessageContextMenuItem.react","IGDSSearchPanoOutlineIcon.react","JSResourceForInteraction","gkx","react","useIGDSLazyDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useCallback;function a(a,b){var d=h._("__JHASH__mew0ZCK-3iQ__JHASH__"),e=c("useIGDSLazyDialog")(c("JSResourceForInteraction")("IGDMessageInspectMessageDialog.react").__setRef("useIGDMessageInspectMenuItem.react")),f=e[0];e=k(function(){f({message:a})},[a,f]);var g=c("gkx")("6963");return!g?null:j.jsx(c("IGDMessageContextMenuItem.react"),{delimiter:b,icon:j.jsx(c("IGDSSearchPanoOutlineIcon.react"),{alt:d,size:18}),label:d,onClick:e,testid:void 0})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useIGDMessageNegativeFeedbackMenuItem.react",["fbt","IGDMessageContextMenuItem.react","IGDSDialogPlaceholder.react","IGDSThumbDownPanoOutline24Icon.react","JSResourceForInteraction","emptyFunction","react","useGenAIFeedbackSubmissionStatus","useIGDIsGenAiReelsPlugin","useIGDSLazyDialog","useIGDSToaster","useMWV2SubmitFeedbackAction"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useCallback;function a(a){var b=c("useIGDSToaster")(),d=k(function(){b.add({message:h._("__JHASH__szyqZwWEpgN__JHASH__"),target:"bottom-left"})},[b]),e=c("useMWV2SubmitFeedbackAction")(a.botResponseId,d);d=c("useIGDSLazyDialog")(c("JSResourceForInteraction")("MWV2SubmitNegativeFeedbackDialog.react").__setRef("useIGDMessageNegativeFeedbackMenuItem.react"),function(a){return j.jsx(c("IGDSDialogPlaceholder.react"),{fixedHeight:!0,onClose:a,size:"large"})});var f=d[0];d=k(function(){f({message:a,onSubmit:e},c("emptyFunction"))},[f,a,e]);var g=c("useGenAIFeedbackSubmissionStatus")(a.botResponseId),i=c("useIGDIsGenAiReelsPlugin")(a);if(g==null||i)return null;g=h._("__JHASH__7ndOyL_QgDy__JHASH__");return j.jsx(c("IGDMessageContextMenuItem.react"),{icon:j.jsx(c("IGDSThumbDownPanoOutline24Icon.react"),{alt:g,size:18}),label:g,onClick:d})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useIGDMessagePositiveFeedbackMenuItem.react",["fbt","BotFeedbackKind","IGDMessageContextMenuItem.react","IGDSThumbUpPanoOutline24Icon.react","IGDThreadListNewMessageLoggingDataContext","MessengerWebUXLogger","react","useGenAIFeedbackSubmissionStatus","useIGDIsGenAiReelsPlugin","useIGDSToaster","useMWV2SubmitFeedbackAction"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useCallback,l=b.useMemo;function a(a,b){var e=c("useIGDSToaster")(),f=k(function(){e.add({message:h._("__JHASH__szyqZwWEpgN__JHASH__"),target:"bottom-left"})},[e]),g=c("useMWV2SubmitFeedbackAction")(a.botResponseId,f),i=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceId(),m=l(function(){var b;return{extraData:{botResponseId:(b=a.botResponseId)!=null?b:""},flowInstanceId:i.current}},[a.botResponseId,i]),n=c("MessengerWebUXLogger").useInteractionLogger();f=k(function(){g(c("BotFeedbackKind").BOT_FEEDBACK_POSITIVE),n==null?void 0:n(babelHelpers["extends"]({eventName:"submit_positive_feedback"},m)),b()},[g,n,m,b]);var o=c("useGenAIFeedbackSubmissionStatus")(a.botResponseId),p=c("useIGDIsGenAiReelsPlugin")(a);if(o==null||p)return null;o=h._("__JHASH__FtoE8geHXMB__JHASH__");return j.jsx(c("IGDMessageContextMenuItem.react"),{delimiter:!0,icon:j.jsx(c("IGDSThumbUpPanoOutline24Icon.react"),{alt:o,size:18}),label:o,onClick:f})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useIGDMessageReaction.react",["fbt","EmojiFormat.bs","IGDThreadListNewMessageLoggingDataContext","MWV2MessageReactionHooks","MessengerWebUXLogger","UnicodeUtils","emptyFunction","qex","react","useIGDGlobalReactMessage"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=(i||d("react")).useCallback;function a(a,b){var e=d("MWV2MessageReactionHooks").MWV2MessageReactionHooks.useSelectedReaction(a),f=c("useIGDGlobalReactMessage")(a,"reaction_tray"),g=k(function(a){var c=d("EmojiFormat.bs").codeArrayToUnicode(a);if(e!=null){var g=(j||(j=d("UnicodeUtils"))).getCodePoints(e);c===e&&(c=void 0);g[0]===10084&&a[0]===10084&&(c=void 0)}f(c,"reaction");b()},[e,f,b]);g={closeAfterSelect:!0,onClose:c("emptyFunction"),onSelect:g,showPopoverArrow:!1};var i=c("qex")._("762")===!0;i=i?h._("__JHASH__lHWykrNu5cj__JHASH__"):h._("__JHASH__BdkUyl8gsw5__JHASH__");var l=c("MessengerWebUXLogger").useInteractionLogger(),m=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceId(),n=function(b){l==null?void 0:l({eventName:"reaction_open_emoji_picker",extraData:{message_id:a.messageId},flowInstanceId:m.current}),b()};return[i,n,g]}g["default"]=a}),98);
__d("useIGDMessageReactionMenuItem.react",["I64","IGDMessageContextMenuItem.react","IGDSBox.react","IGDSFace2OutlineIcon.react","IGDSLazyPopoverTrigger.react","LSBitFlag","LSContactBitOffset","LSMessagingThreadTypeUtil","LSThreadBitOffset","MWLSThread","ReQL","ReQLSuspense","react","requireDeferred","useGenAIFeedbackSubmissionStatus","useIGDIsGenAiFeedbackEnabled","useIGDMessageReaction.react","useIsReadOnlyFeatureLimited","useIsThreadBlocked","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||d("react"),l=c("requireDeferred")("IGDComposerEmojiPicker.react").__setRef("useIGDMessageReactionMenuItem.react");function a(a,b){var e=(h||(h=c("useReStore")))(),g=a.displayedContentTypes,j=a.senderId,m=c("useIsThreadBlocked")(),n=d("MWLSThread").useThreadExn(a.threadKey),o=d("LSMessagingThreadTypeUtil").isIGDMessageRequest(n),p=c("useIsReadOnlyFeatureLimited")(),q=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(e.tables.contacts).getKeyRange(j)},[e,j],f.id+":54"),r=d("LSThreadBitOffset").has(18,n),s=d("LSThreadBitOffset").has(139,n);n=d("LSThreadBitOffset").has(169,n);g=(i||(i=d("I64"))).equal(g,d("LSBitFlag").empty);q=q!=null&&d("LSContactBitOffset").has(66,q);var t=c("useIGDIsGenAiFeedbackEnabled")(a.botResponseId),u=c("useGenAIFeedbackSubmissionStatus")(a.botResponseId);m=!m&&!q&&!o&&!p&&!a.isUnsent&&!g&&(s?n:r)&&t&&u==null;q=c("useIGDMessageReaction.react")(a,b);var v=q[0],w=q[1];o=q[2];return!m?null:k.jsx(c("IGDSLazyPopoverTrigger.react"),{align:"start",popoverProps:o,popoverResource:l,popoverType:"dialog",position:"above",children:function(a,b){return k.jsx(c("IGDSBox.react"),{containerRef:a,children:k.jsx(c("IGDMessageContextMenuItem.react"),{icon:k.jsx(c("IGDSFace2OutlineIcon.react"),{alt:v,size:18}),label:v,onClick:function(){return w(b)}})})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useIGDMessageReplyMenuItem.react",["I64","IGDMessageContextMenuItem.react","IGDSReplyPanoOutline24Icon.react","LSBitFlag","LSContactBitOffset","LSMessagingThreadTypeUtil","LSThreadBitOffset","MWLSThread","MWV2MessageRowActionsContext.react","ReQL","ReQLSuspense","react","useGenAIFeedbackSubmissionStatus","useIGDIsGenAiFeedbackEnabled","useIGDMessageReply.react","useIsReadOnlyFeatureLimited","useIsThreadBlocked","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||d("react");function a(a,b){var e=(h||(h=c("useReStore")))(),g=a.displayedContentTypes,j=a.senderId,l=c("useIsThreadBlocked")(),m=d("MWLSThread").useThreadExn(a.threadKey),n=d("LSMessagingThreadTypeUtil").isIGDMessageRequest(m),o=c("useIsReadOnlyFeatureLimited")(),p=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(e.tables.contacts).getKeyRange(j)},[e,j],f.id+":48"),q=d("LSThreadBitOffset").has(42,m),r=d("MWV2MessageRowActionsContext.react").useMessageRowActionsContext();r=r.replyToMessage;m=c("useIGDMessageReply.react")(a,m,b);b=m[0];m=m[1];var s=c("useIGDIsGenAiFeedbackEnabled")(a.botResponseId),t=c("useGenAIFeedbackSubmissionStatus")(a.botResponseId);r.current=b;if(!q||!s)return null;r=(i||(i=d("I64"))).equal(g,d("LSBitFlag").empty);q=p!=null&&d("LSContactBitOffset").has(66,p);g=!l&&!q&&!n&&!o&&!a.isUnsent&&!r&&s&&t==null;return!g?null:k.jsx(c("IGDMessageContextMenuItem.react"),{icon:k.jsx(c("IGDSReplyPanoOutline24Icon.react"),{alt:m,size:18}),label:m,onClick:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDMessageReportMenuItem.react",["fbt","IGDMessageContextMenuItem.react","IGDSReportPanoOutline24Icon.react","MWPActor.react","emptyFunction","promiseDone","react","requireDeferred","useIGDSLazyDialog","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react")),l=j.useCallback,m=c("requireDeferred")("MWLogMessageAction").__setRef("IGDMessageReportMenuItem.react");function a(a){var b=a.dialogProps,e=a.dialogResource,f=a.message,g=d("MWPActor.react").useActor(),j=(i||(i=c("useReStore")))();a=h._("__JHASH__iy-oX7MfwVR__JHASH__");e=c("useIGDSLazyDialog")(e);var n=e[0];e=l(function(){n(b,c("emptyFunction")),m.onReady(function(a){return c("promiseDone")(a.log(j,f.messageId,f.threadKey,"message_dot_menu","report",void 0,void 0,void 0,f.senderId,void 0,g))})},[g,j,b,f.messageId,f.senderId,f.threadKey,n]);return k.jsx(c("IGDMessageContextMenuItem.react"),{delimiter:!0,icon:k.jsx(c("IGDSReportPanoOutline24Icon.react"),{alt:a,color:"ig-error-or-destructive",size:18}),label:a,labelProps:{color:"errorOrDestructive"},onClick:e})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useIGDMessageReportMenuItem.react",["I64","IGDInstamadilloUtils","IGDMessageReportMenuItem.react","JSResourceForInteraction","LSContactBitOffset","LSIntEnum","LSMessagingThreadTypeUtil","MWPActor.react","ReQL","ReQLSuspense","emptyFunction","getLSMediaContactProfilePictureUrl","qex","react","usePolarisAnalyticsContext","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=i||d("react"),m=[(k||(k=d("LSIntEnum"))).ofNumber(1),k.ofNumber(16384),k.ofNumber(2),k.ofNumber(4)];function a(a,b){var e=(h||(h=c("useReStore")))(),g=d("MWPActor.react").useActor(),i=a.displayedContentTypes,k=a.senderId,n=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(e.tables.contacts).getKeyRange(k)},[e,k],f.id+":49");n=n!=null&&d("LSContactBitOffset").has(18,n);var o=(j||(j=d("I64"))).equal(k,g),p=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(e.tables.contacts).getKeyRange(a.senderId)},[e,a.senderId],f.id+":61"),q=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(e.tables.ig_thread_info).getKeyRange(a.threadKey)},[e,a.threadKey],f.id+":66"),r=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(e.tables.mailbox_metadata).getKeyRange(g)},[e,g],f.id+":74"),s=c("usePolarisAnalyticsContext")()+"WWW";n=n&&!o&&m.findIndex(function(a){return(j||(j=d("I64"))).equal(i,a)})!==-1;if(!n||p==null||r==null||q==null)return null;o=d("IGDInstamadilloUtils").isInstamadilloMessage(a);n=(n=c("qex")._("608"))!=null?n:!1;p={isGroup:d("LSMessagingThreadTypeUtil").isGroup(b),onClose:c("emptyFunction"),profilePicUrl:c("getLSMediaContactProfilePictureUrl")(p),senderId:j.to_string(a.senderId),username:(b=p.secondaryName)!=null?b:""};return o&&n?l.jsx(c("IGDMessageReportMenuItem.react"),{dialogProps:babelHelpers["extends"]({},p,{messageId:a.messageId,threadId:(j||(j=d("I64"))).to_string(a.threadKey)}),dialogResource:c("JSResourceForInteraction")("PolarisDirectReportingEncryptedMessageModal.react").__setRef("useIGDMessageReportMenuItem.react"),message:a}):l.jsx(c("IGDMessageReportMenuItem.react"),{dialogProps:babelHelpers["extends"]({},p,{containerModule:s,messageInfo:{fbMessageId:a.messageId,mailboxId:j.to_string(r.id)},threadId:q.igThreadId}),dialogResource:c("JSResourceForInteraction")("PolarisDirectReportingMessageModal.react").__setRef("useIGDMessageReportMenuItem.react"),message:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useIGDMessageTimestampMenuItem.react",["I64","IGDSBox.react","IGDSContextMenuItem.react","IGDSText.react","MWEditedEyebrow.react","MWPDateBreak.react","MWPEditMessageUtil","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||d("react"),k={container:{paddingBottom:"x18d9i69",paddingEnd:"x1sxyh0",paddingLeft:null,paddingRight:null,paddingStart:"xurb0ha",paddingTop:"xexx8yu",$$css:!0},containerWithDelimiter:{paddingBottom:"x10b6aqq",paddingEnd:"x1sxyh0",paddingLeft:null,paddingRight:null,paddingStart:"xurb0ha",paddingTop:"xexx8yu",$$css:!0},delimiter:{backgroundColor:"x1y3jaa6",height:"x28ko6u",marginTop:"xdj266r",marginEnd:"x1n0m28w",marginBottom:"x1e56ztr",marginStart:"xp7jhwk",$$css:!0},editLabel:{marginTop:"xvijh9v",$$css:!0},separator:{paddingEnd:"xg83lxy",paddingLeft:null,paddingRight:null,paddingStart:"x16hj40l",$$css:!0}};function a(a,b){var e=d("MWPEditMessageUtil").isEditedMessage(a);return j.jsxs(c("IGDSBox.react"),{children:[j.jsx(d("IGDSContextMenuItem.react").IGDSContextMenuItem,{title:j.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",children:[j.jsx(c("MWPDateBreak.react"),{renderTextWrapper:function(a){return j.jsx(c("IGDSText.react"),{color:"secondaryText",size:"footnote",weight:"semibold",children:a})},timestamp:(i||(i=d("I64"))).to_float(a.timestampMs)}),e&&j.jsx(c("IGDSBox.react"),{xstyle:k.editLabel,children:j.jsx(c("IGDSText.react"),{color:"secondaryText",size:"footnote",children:j.jsx(d("MWEditedEyebrow.react").MWEditedEyebrow,{hasSeparator:!0,xstyle:k.separator})})})]}),xstyle:b?k.containerWithDelimiter:k.container}),b?j.jsx("div",{className:"x1y3jaa6 x28ko6u xdj266r x1n0m28w x1e56ztr xp7jhwk"}):null]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDSUndoCirclePanoOutline24Icon.react",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:[i.jsx("path",{d:"M12 .5C5.659.5.5 5.66.5 12S5.659 23.5 12 23.5c6.34 0 11.5-5.16 11.5-11.5S18.34.5 12 .5Zm0 21c-5.238 0-9.5-4.262-9.5-9.5S6.762 2.5 12 2.5s9.5 4.262 9.5 9.5-4.262 9.5-9.5 9.5Z"}),i.jsx("path",{d:"M14.5 10H9.414l1.293-1.293a1 1 0 1 0-1.414-1.414l-3 2.999a1 1 0 0 0 0 1.414l3 3.001a.997.997 0 0 0 1.414 0 1 1 0 0 0 0-1.414L9.415 12H14.5c.827 0 1.5.674 1.5 1.501 0 .395-.157.794-.431 1.096-.227.249-.508.403-.735.403L14 14.999a1 1 0 0 0-.001 2l.833.001h.002c.796 0 1.604-.386 2.215-1.059a3.625 3.625 0 0 0 .951-2.44C18 11.571 16.43 10 14.5 10Z"})]}))}a.displayName=a.name+" [from "+f.id+"]";b=i.memo(a);g["default"]=b}),98);
__d("useIGDMessageUnsendMenuItem.react",["fbt","I64","IGDMessageContextMenuItem.react","IGDSUndoCirclePanoOutline24Icon.react","IGDThreadListNewMessageLoggingDataContext","JSResourceForInteraction","MWPActor.react","MessengerWebUXLogger","PolarisDirectLogger","react","useIGDSLazyDialog","useMWPCanRemoveMessageGlobally"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||(i=d("react")),l=i.useCallback;function a(a){var b=d("MWPActor.react").useActor(),e=a.senderId;e=(j||(j=d("I64"))).equal(e,b);var f=c("MessengerWebUXLogger").useInteractionLogger(),g=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceId();b=c("useIGDSLazyDialog")(c("JSResourceForInteraction")("IGDMessageUnsendDialog.react").__setRef("useIGDMessageUnsendMenuItem.react"));var i=b[0];b=l(function(){f==null?void 0:f({eventName:"message_unsend",flowInstanceId:g.current}),i({message:a}),d("PolarisDirectLogger").DirectLogger.logDirectEvent("DirectThread","direct_delete_message_attempt")},[g,f,a,i]);e=c("useMWPCanRemoveMessageGlobally")(a)&&e;if(!e)return null;e=h._("__JHASH__H8A15z0PXSW__JHASH__");return k.jsx(c("IGDMessageContextMenuItem.react"),{delimiter:!0,icon:k.jsx(c("IGDSUndoCirclePanoOutline24Icon.react"),{alt:e,color:"ig-error-or-destructive",size:18}),label:e,labelProps:{color:"errorOrDestructive"},onClick:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDMessageContextMenu.react",["IGDBroadcastChannelLoggingShapes","IGDSBox.react","IGDSPopover.react","MWCMThreadTypes.react","MWMessageListLoggingContext","MessengerWebUXLogger","WebUXLoggingSurfaceContextProvider","react","useIGDBroadcastChannelImpressionLoggerWithCheck","useIGDMessageCopyMenuItem.react","useIGDMessageForwardMenuItem.react","useIGDMessageInspectMenuItem.react","useIGDMessageNegativeFeedbackMenuItem.react","useIGDMessagePositiveFeedbackMenuItem.react","useIGDMessageReactionMenuItem.react","useIGDMessageReplyMenuItem.react","useIGDMessageReportMenuItem.react","useIGDMessageTimestampMenuItem.react","useIGDMessageUnsendMenuItem.react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useMemo,k={popover:{borderTopStartRadius:"x1ykpwxx",borderTopEndRadius:"x118zf8b",borderBottomEndRadius:"xnwxkdh",borderBottomStartRadius:"xfocsrx",marginBottom:"xu06os2",$$css:!0}};function a(a){var b=a.message,e=a.onClose;a=a.thread;var f=d("MWCMThreadTypes.react").isIGBroadcastChannelThread(a.threadSubtype),g=c("useIGDBroadcastChannelImpressionLoggerWithCheck")(b.threadKey,a.threadSubtype,d("IGDBroadcastChannelLoggingShapes").MESSAGE_OPTIONS_RENDERED_SHAPE),h=d("MWMessageListLoggingContext").useFlowInstanceId();h=c("MessengerWebUXLogger").useImpressionLoggerRef({eventName:"message_contextual_menu_rendered",flowInstanceId:h.current});var l=c("useIGDMessageReplyMenuItem.react")(b,e),m=c("useIGDMessageReactionMenuItem.react")(b,e),n=c("useIGDMessageCopyMenuItem.react")(b,e),o=c("useIGDMessageForwardMenuItem.react")(b,e),p=c("useIGDMessageUnsendMenuItem.react")(b),q=c("useIGDMessageReportMenuItem.react")(b,a.threadType),r=c("useIGDMessagePositiveFeedbackMenuItem.react")(b,e),s=c("useIGDMessageNegativeFeedbackMenuItem.react")(b);a=j(function(){var a=[m,l,o,n,p,q,r,s];return a.filter(Boolean)},[m,l,o,n,p,q,r,s]);e=c("useIGDMessageTimestampMenuItem.react")(b,a.length>1);b=c("useIGDMessageInspectMenuItem.react")(b,a.length>=1||a.length===0);e=i.jsx(d("WebUXLoggingSurfaceContextProvider").WebUXSurfaceLoggingContext.Provider,{value:"thread_view_message_options",children:i.jsxs(c("IGDSBox.react"),{minWidth:180,padding:2,children:[e,a.map(function(a,b){return i.jsx(c("IGDSBox.react"),{children:a},"igd-message-menu-item-"+b)}),b]})});return i.jsx(c("IGDSPopover.react"),{popoverContent:e,popoverXStyle:k.popover,ref:f?g:h})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);