;/*FB_PKG_DELIM*/

__d("PolarisTaggedPostsActionConstants",[],(function(a,b,c,d,e,f){"use strict";a=12;f.PAGE_SIZE=a}),66);
__d("PolarisAPIGetPendingTaggedPosts",["PolarisInstapi","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield d("PolarisInstapi").apiGet("/api/v1/usertags/{user_id}/pending_review/",{path:{user_id:a}}));return a.data});return h.apply(this,arguments)}g.getPendingTaggedPosts=a}),98);
__d("PolarisAPIReviewPhotosOfYou",["PolarisInstapi"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){a===void 0&&(a="");b===void 0&&(b="");a={approve:a,remove:b};return d("PolarisInstapi").apiPost("/api/v1/web/usertags/review_web/",{body:a})}g.reviewPhotosOfYou=a}),98);
__d("PolarisAPIReviewPhotosOfYouNative",["PolarisInstapi"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){a===void 0&&(a="");b===void 0&&(b="");a={approve:a,remove:b};return d("PolarisInstapi").apiPost("/api/v1/usertags/review/",{body:a})}g.reviewPhotosOfYouNative=a}),98);
__d("PolarisAPIUntagFromTaggedMedia",["PolarisInstapi"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a={media:a};return d("PolarisInstapi").apiPost("/api/v1/web/usertags/untag_web/",{body:a})}g.untagFromTaggedMedia=a}),98);
__d("PolarisAPIUntagFromTaggedMediaNative",["PolarisInstapi"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return d("PolarisInstapi").apiPost("/api/v1/usertags/{media_id}/remove/",{path:{media_id:a}})}function b(a){a===void 0&&(a=[]);return d("PolarisInstapi").apiPost("/api/v1/usertags/remove/",{body:{media_to_untag:a}},{options:{dataType:"json"}}).then(function(a){return a.data})}g.untagFromTaggedMediaNative=a;g.untagFromTaggedMediaNativeBulk=b}),98);
__d("PolarisTaggedPostsActions",["fbt","CometRelay","PolarisAPIGetPendingTaggedPosts","PolarisAPIReviewPhotosOfYou","PolarisAPIReviewPhotosOfYouNative","PolarisAPIUntagFromTaggedMedia","PolarisAPIUntagFromTaggedMediaNative","PolarisConfig","PolarisGenericStrings","PolarisLegacyGraphQLPaginationUtils","PolarisLogger","PolarisPaginationUtils","PolarisPostModel","PolarisProfilePostsModel","PolarisTaggedPostsActionConstants","asyncToGeneratorRuntime","nullthrows","polarisGetUsersFromGraphMedia","polarisNormalizeMediaDicts","polarisTransformProfilePostsEntities"],(function(a,b,c,d,e,f,g,h){"use strict";var i=0,j="17946422347485809",k=h._("__JHASH__RsphmEm-Zg1__JHASH__"),l=d("PolarisLegacyGraphQLPaginationUtils").generatePaginationActionCreators({getState:function(a,b){return(a=a.taggedPosts.byUserId[b])==null?void 0:a.pagination},onError:function(a,b,c,e){return{err:a,fetch:b,toast:{actionHandler:e,actionText:d("PolarisGenericStrings").RETRY_TEXT,text:d("PolarisGenericStrings").FAILED_TO_LOAD_TEXT},type:"TAGGED_POSTS_ERRORED",userId:c}},onUpdate:function(a,b,d){var e=[],f,g={postIds:[]},h=[];if(b){var i,j=c("nullthrows")(b.user),k=[];e=(((i=j.edge_user_to_photos_of_you)==null?void 0:i.edges)||[]).map(function(a){k.push(a.node);return c("PolarisPostModel").fromGraphResponse(a.node).toReduxStore()});h=k.reduce(function(a,b){return a.concat(c("polarisGetUsersFromGraphMedia")(b))},[]);f=(i=j.edge_user_to_photos_of_you)==null?void 0:i.page_info;g=c("PolarisProfilePostsModel").fromGraphResponse(b).toReduxStore()}return{data:g,fetch:a,pageInfo:f,posts:e,type:"TAGGED_POSTS_UPDATED",userId:d,users:h}},pageSize:d("PolarisTaggedPostsActionConstants").PAGE_SIZE,pagesToPreload:i,queryId:j,queryParams:function(a){return{id:a}}});function a(a,b){return function(e){var f=[];a.xdt_api__v1__media_pending_review_connection.edges.forEach(function(a){a&&f.push(a)});try{var g=d("PolarisPaginationUtils").createPaginationState({endCursor:a.xdt_api__v1__media_pending_review_connection.page_info.end_cursor,hasNextPage:a.xdt_api__v1__media_pending_review_connection.page_info.has_next_page,hasPreviousPage:!1,isFetching:!1,loadedCount:f.length,startCursor:"",visibleCount:f.length});g={count:f.length,pagination:g,postIds:f.map(function(a){var b;return(b=(b=a.node.pk)!=null?b:a.node.id)!=null?b:""})};var h=d("polarisNormalizeMediaDicts").normalizeMediaDicts(f.map(function(a){return a.node})).entities;h=c("polarisTransformProfilePostsEntities")(h);var i=h.posts;h=h.users;return e({data:g,posts:i,type:"PENDING_TAGGED_POSTS_UPDATED_FROM_NATIVE",userId:b,users:h})}catch(a){g=function(){return e(o(b))};return e({err:a,toast:{actionHandler:g,actionText:d("PolarisGenericStrings").RETRY_TEXT,text:d("PolarisGenericStrings").FAILED_TO_LOAD_TEXT},type:"TAGGED_POSTS_ERRORED",userId:b})}}}function m(a){return function(b){var c=function(){return b(m(a))};return b(l.first(a,c))}}function n(a){return function(b){var c=function(){return b(n(a))};return b(l.next(a,c))}}function o(a){return function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){try{var e=(yield d("PolarisAPIGetPendingTaggedPosts").getPendingTaggedPosts(a)),f=c("PolarisProfilePostsModel").fromNativeResponse(e).toReduxStore();e=d("polarisNormalizeMediaDicts").normalizeMediaDicts(e.items).entities;e=c("polarisTransformProfilePostsEntities")(e);var g=e.posts;e=e.users;return b({data:f,posts:g,type:"PENDING_TAGGED_POSTS_UPDATED_FROM_NATIVE",userId:a,users:e})}catch(c){f=function(){return b(o(a))};return b({err:c,toast:{actionHandler:f,actionText:d("PolarisGenericStrings").RETRY_TEXT,text:d("PolarisGenericStrings").FAILED_TO_LOAD_TEXT},type:"TAGGED_POSTS_ERRORED",userId:a})}});return function(a){return e.apply(this,arguments)}}()}function p(a,b,c){return function(e){e({postId:a,type:"DELETE_TAG_REQUESTED",userId:b});return d("PolarisAPIUntagFromTaggedMedia").untagFromTaggedMedia(a).then(function(){e(r(a,b,c))},function(){e(q(a,b,c))})}}function e(a,b,c){return function(e){d("PolarisLogger").logAction("deleteTagAttempt");e({postId:a,type:"DELETE_TAG_REQUESTED",userId:b});return d("PolarisAPIUntagFromTaggedMediaNative").untagFromTaggedMediaNative(a).then(function(){d("PolarisLogger").logAction("deleteTagSuccess"),e(r(a,b,c))},function(){d("PolarisLogger").logAction("deleteTagFailure"),e(q(a,b,c))})}}function f(a,b,c,e,f){return function(g){var h=a.length;g({postIds:a,type:"DELETE_TAG_BULK_REQUESTED",userId:b});c&&c(!0);return d("PolarisAPIUntagFromTaggedMediaNative").untagFromTaggedMediaNativeBulk(a).then(function(){a.forEach(function(a){g(r(a,b,h)),f&&(d("CometRelay").commitLocalUpdate(f,function(b){b["delete"]("XDTMediaDict:"+a)}),w(f))}),c&&c(!1),e&&e()},function(){a.forEach(function(a){g(q(a,b,h))}),c&&c(!1),e&&e()})}}function q(a,b,c){return function(e){e({postId:a,toast:{actionHandler:function(){return e(p(a,b,c))},actionText:d("PolarisGenericStrings").RETRY_TEXT,text:k},type:"DELETE_TAG_FAILED",userId:b})}}function r(a,b,c){var d=h._("__JHASH__Ns8T770AwdK__JHASH__",[h._plural(c)]);return function(e){e({postId:a,toast:{actionHandler:function(){return e(p(a,b,c))},text:d},type:"DELETE_TAG_SUCCEEDED",userId:b})}}function s(a,b,c){b===void 0&&(b="");c===void 0&&(c="");return function(e){e({approve:b,remove:c,type:"UPDATE_PHOTO_OF_YOU_REQUESTED",userId:a});return d("PolarisAPIReviewPhotosOfYou").reviewPhotosOfYou(b,c).then(function(){e({approve:b,remove:c,type:"UPDATE_PHOTO_OF_YOU_SUCCEEDED",userId:a})},function(){e(u(a,b,c))})}}function t(a,b,c,e,f,g,h){b===void 0&&(b="");c===void 0&&(c="");return function(i){d("PolarisLogger").logAction("updatePhotoOfYouAttempt");i({approve:b,remove:c,type:"UPDATE_PHOTO_OF_YOU_REQUESTED",userId:a});f&&f(!0);return d("PolarisAPIReviewPhotosOfYouNative").reviewPhotosOfYouNative(b,c).then(function(){d("PolarisLogger").logAction("updatePhotoOfYouSuccess"),i(v(a,b,c,e)),h&&(d("CometRelay").commitLocalUpdate(h,function(a){a["delete"]("XDTMediaDict:"+(b===""?c:b))}),w(h)),f&&f(!1),g&&g()},function(){d("PolarisLogger").logAction("updatePhotoOfYouFailure"),i(u(a,b,c)),f&&f(!1),g&&g()})}}function u(a,b,c){b===void 0&&(b="");c===void 0&&(c="");return function(e){e({approve:b,remove:c,toast:{actionHandler:function(){return e(s(a,b,c))},actionText:d("PolarisGenericStrings").RETRY_TEXT,text:k},type:"UPDATE_PHOTO_OF_YOU_FAILED",userId:a})}}function v(a,b,c,d){b===void 0&&(b="");c===void 0&&(c="");var e=h._("__JHASH__J_BqBN-0YN-__JHASH__",[h._plural(d)]),f=h._("__JHASH__w5CswV8kDKO__JHASH__",[h._plural(d)]);return function(d){d({approve:b,remove:c,toast:{actionHandler:function(){return d(s(a,b,c))},text:b===""?f:e},type:"UPDATE_PHOTO_OF_YOU_SUCCEEDED",userId:a})}}function w(a){var b=d("PolarisConfig").getViewerId();if(b==null)return;var c="";d("CometRelay").commitLocalUpdate(a,function(a){var d;d=(d=a.get('client:root:__PolarisUserPendingTaggedPostsGrid__xdt_api__v1__media_pending_review_connection_connection(user_id:"'+b+'")'))==null?void 0:d.getLinkedRecords("edges");if(d==null)return;var e=d.length;for(e=e-1;e>=0;e--){var f=d[e];if(f==null)continue;var g=f.getLinkedRecord("node");if(g==null){a["delete"](f.getDataID());f=a.get('client:root:xdt_api__v1__media_pending_review_connection(user_id:"'+b+'")'+e);f&&a["delete"](f.getDataID());f=a.get('client:root:xdt_api__v1__get_pending_tagged_posts_review_count(user_id:"'+b+'")');var h=f==null?void 0:f.getValue("total_count");h!=null&&typeof h==="number"&&(f==null?void 0:f.setValue(h-1,"total_count"))}else if(c===""){f=g.getValue("pk");c=String(f)}}g=(h=a.get('client:root:__PolarisUserPendingTaggedPostsGrid__xdt_api__v1__media_pending_review_connection_connection(user_id:"'+b+'")'))==null?void 0:h.getLinkedRecord("page_info");if(g==null)return;if(g.getValue("has_next_page")===!1)return;g.setValue(c===""?null:c,"end_cursor")})}g.convertGraphQLFragmentToMediaPost=a;g.requestTaggedPosts=m;g.requestNextTaggedPosts=n;g.requestPendingTaggedPostsFromNative=o;g.deleteTag=p;g.deleteTagFromNative=e;g.deleteTagFromNativeBulk=f;g.updatePhotoOfYou=s;g.updatePhotoOfYouFromNative=t}),98);
__d("PolarisMediaBrowserConstants",[],(function(a,b,c,d,e,f){"use strict";a=3;f.POSTS_PER_ROW=a}),66);
__d("PolarisPaddedSectionHeader.react",["cx","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){a=a.children;return j.jsx("h2",{className:"_aanc",children:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisMediaBrowser.react",["cx","fbt","CometPlaceholder.react","IGRouter.react","InstagramSEOCrawlBot","PolarisAdvisoryMessage.react","PolarisConfig","PolarisLinkBuilder","PolarisMediaBrowserConstants","PolarisMediaViewerNavigationUtils.react","PolarisPaddedSectionHeader.react","PolarisSizeCache","PolarisSizing","PolarisUA","PolarisVirtualPostsGrid.react","PolarisVirtualPostsGridConstants","browserHistory","deferredLoadComponent","logPolarisPostModalOpen","memoizeStringOnly","nullthrows","polarisGetPostFromGraphMediaInterface","polarisUnexpected","qex","react","requireDeferred"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react"),l=c("deferredLoadComponent")(c("requireDeferred")("PolarisMediaBrowserPostModal.react").__setRef("PolarisMediaBrowser.react")),m=5,n=12,o=i._("__JHASH__6IR3ka_seEK__JHASH__"),p=i._("__JHASH__uBIfW1cHu32__JHASH__"),q=i._("__JHASH__dLxTsTsMHxr__JHASH__"),r=c("memoizeStringOnly")(function(a){return new(c("PolarisSizeCache"))({estimatedSize:d("PolarisVirtualPostsGridConstants").POSTS_ROW_ESTIMATED_HEIGHT})});function s(a,b){return a.topPosts?[].concat(a.topPosts,b):a.posts}function t(a){return a.topPosts?a.posts.filter(function(b){var c=a.topPosts||[];return!c.some(function(a){return a.id===b.id})}):a.posts}function u(a){return a.filter(function(a){return a.code!=null}).map(function(a){return{dimensions:a.dimensions,shortcode:(a=a.code)!=null?a:""}})}function v(a,b){b={combinedPosts:[],modalEntryPath:b==null?void 0:b.modalEntryPath,modalPostId:b==null?void 0:b.modalPostId,prevValues:{maxPostsToDisplay:a.maxPostsToDisplay,postsLength:a.posts.length},showModal:!!(b==null?void 0:b.showModal),uniquePosts:[],visibleUniquePostsCount:0};if(a.posts.length>0||a.topPosts&&a.topPosts.length>0){var c=t(a);b.uniquePosts=c;b.combinedPosts=s(a,c);if(c.length>0){b.earliestPostIdToDisplay=c[0].id;c=c.length;var e=a.isOldestPostLoaded?0:c%d("PolarisMediaBrowserConstants").POSTS_PER_ROW;b.visibleUniquePostsCount=Math.min(c-e,a.maxPostsToDisplay)}}return b}a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var e;e=a.call(this,b)||this;e.$7=function(){var a,b=c("qex")._("554")===!0,f=e.$4;if(!b||!d("PolarisMediaViewerNavigationUtils.react").hasImmersiveViewerPagination()||f==null||f===0)return;b=u(e.state.combinedPosts);if(b.length===0)return;e.$4=null;var g=b[f-1];f=e.props.posts.findIndex(function(a){return g.shortcode===a.code});if(((a=e.props.profileUser)==null?void 0:(a=a.counts)==null?void 0:a.media)===f+1)return;a=d("PolarisLinkBuilder").buildImmersiveMediaLink(g.shortcode);e.props.history.push(a,{chainingItems:b,dimensions:(f=g.dimensions)!=null?f:null,loadMore:e.$8})};e.$10=function(a,b){e.$9(a);var f=e.state.combinedPosts.find(function(b){return b.id===a});f=f!=null?d("polarisGetPostFromGraphMediaInterface").getPostMediaType(f):0;f===0&&c("polarisUnexpected")("MediaBrowser: missing media type for post modal log event");c("logPolarisPostModalOpen")(e.props.analyticsContext,f,"media_browser");if(b!=null){f=e.props;var g=f.isOldestPostLoaded;f=f.maxPostsToDisplay;!g&&e.state.combinedPosts.length-1-b<=m&&e.props.onPostLoadTargetChange(f+n)}};e.$11=function(a,b,f){var g=e.props,h=g.onIntentClick;g=g.shouldSpawnPostModal;if(h&&!d("PolarisConfig").isLoggedIn()&&(d("PolarisUA").isDesktop()||d("PolarisConfig").isLoggedOutFRXEligible())&&!c("InstagramSEOCrawlBot").is_allowlisted_crawl_bot){var i;a.preventDefault();i=d("PolarisLinkBuilder").BASE_INSTAGRAM_URL+d("PolarisLinkBuilder").buildMediaLink((i=b.code)!=null?i:b.id).toString();h(e.props.history.location.pathname,"profile_posts",e.props.match.params.username,b.id,i)}else if(g===!0&&d("PolarisSizing").shouldSpawnModals(e.props.viewportWidth)){h=e.state.combinedPosts.map(function(a){return a.id}).findIndex(function(a){return a===b.id});i=b.code;g=b.dimensions;if(i!=null&&c("qex")._("348")===!0){i=d("PolarisLinkBuilder").buildImmersiveMediaLink(i);var j=u(e.state.combinedPosts);e.props.history.push(i,{chainingItems:j,dimensions:g,loadMore:e.$8})}else e.$10(b.id,h);a.preventDefault()}e.props.onClick&&e.props.onClick(b,f)};e.$5=function(){e.setState({modalEntryPath:null,modalPostId:null,showModal:!1})};e.$6=function(){var a=e.props,b=a.isOldestPostLoaded;a=a.maxPostsToDisplay;b||e.props.onPostLoadTargetChange(a+n)};e.$8=function(){e.$4=u(e.state.combinedPosts).length,e.$6()};e.state=v(b);e.$2=r(e.props.analyticsContext+"_recentPosts");e.$3=r(e.props.analyticsContext+"_topSetPosts");e.$4=null;return e}b.getDerivedStateFromProps=function(a,b){var c=b.prevValues,d=t(a).map(function(a){return a.id}),e=!b.uniquePosts.every(function(a){return d.includes(a.id)});return e||c.maxPostsToDisplay!==a.maxPostsToDisplay?v(a,b):null};var e=b.prototype;e.componentDidMount=function(){var a=this;this.$1=this.props.history.listen(function(b,c){c===d("browserHistory").ACTION.POP&&a.$5()})};e.componentWillUnmount=function(){this.$1()};e.componentDidUpdate=function(a,b){this.state.uniquePosts.length!==b.uniquePosts.length&&this.state.visibleUniquePostsCount===b.visibleUniquePostsCount&&this.$6(),this.$7()};e.$9=function(a){this.setState({modalEntryPath:this.props.history.location.pathname,modalPostId:a,showModal:!0})};e.renderPhotosComponent=function(){var a=this.state,b=a.combinedPosts;a=a.uniquePosts;if(this.props.hidePhotoComponentRenderer)return null;if(b.length===0&&!this.props.isFetching)return k.jsx(c("PolarisAdvisoryMessage.react"),{className:"_aaq6",children:k.jsx("h2",{className:"_aaq7",children:q})});var d,e;this.props.topPosts&&this.props.topPosts.length>0&&this.props.posts.length===0?(d=this.$12(),e=this.props.noRecentPostExplanation||null):this.props.topPosts&&this.props.topPosts.length===0?(d=this.props.noTopPostExplanation,e=null):b.length===0?d=e=null:a.length===0?(d=null,e=this.props.isTopMediaOnly?this.props.noRecentPostExplanation:this.$13(this.props.topPosts)):(d=this.$12(),this.props.isTopMediaOnly?e=this.props.noRecentPostExplanation:e=this.props.isMostRecentPostNumLimited?this.$13(this.props.posts):this.$14());return[d,e]};e.renderPostModal=function(){var a=c("nullthrows")(this.state.modalPostId);return k.jsx(c("CometPlaceholder.react"),{fallback:null,children:k.jsx(l,{analyticsContext:this.props.analyticsContext,combinedPosts:this.state.combinedPosts,mediaLinkBuilder:this.props.mediaLinkBuilder,modalEntryPath:this.state.modalEntryPath,onClose:this.$5,onOpen:this.$10,postId:a})})};e.$12=function(){return!this.props.topPosts||this.props.topPosts.length<1?null:[k.jsxs("div",{className:"_aaq8",children:[k.jsx(c("PolarisPaddedSectionHeader.react"),{children:k.jsxs("div",{className:"_aaq9",children:[o,this.props.isSmallScreen&&this.props.postCount&&k.jsx("div",{className:"_aaqa",children:this.props.postCount})]})}),this.$13(this.props.topPosts)]},"top_posts_container"),!this.props.isTopMediaOnly&&this.props.posts.length>0&&k.jsx(c("PolarisPaddedSectionHeader.react"),{children:p},"most_recent_container")]};e.$15=function(a){var b=this.props.loggingData;if((b==null?void 0:b.hashtagName)!=null)return babelHelpers["extends"]({},b,{hashtagFeedType:a});else if((b==null?void 0:b.entityPageName)!=null)return babelHelpers["extends"]({},b,{feedType:a});return{feedType:null,hashtagFeedType:null}};e.$14=function(){var a;return k.jsx(c("PolarisVirtualPostsGrid.react"),{allowSampledScrollLogging:this.props.allowSampledScrollLogging,analyticsContext:this.props.analyticsContext,hasNextPage:!this.props.isOldestPostLoaded,isFetching:(a=this.props.isFetching)!=null?a:!1,loggingData:this.$15("recent"),mediaLinkBuilder:this.props.mediaLinkBuilder,onClick:this.$11,onImpression:this.props.onImpression,onNextPage:this.$6,overscanRowsCount:this.props.overscanRowsCount,PostGridItem:this.props.PostGridItem,posts:this.state.uniquePosts,postsPerRow:d("PolarisMediaBrowserConstants").POSTS_PER_ROW,profileUser:this.props.profileUser,shouldSpawnModals:d("PolarisSizing").shouldSpawnModals(this.props.viewportWidth),sizeCache:this.$2,visibleCount:this.state.visibleUniquePostsCount},"virtual_posts_grid")};e.$13=function(a){return k.jsx(c("PolarisVirtualPostsGrid.react"),{analyticsContext:this.props.analyticsContext,hasNextPage:!1,isFetching:!1,loggingData:this.$15("top"),mediaLinkBuilder:this.props.mediaLinkBuilder,onClick:this.$11,onImpression:this.props.onImpression,overscanRowsCount:this.props.overscanRowsCount,PostGridItem:this.props.PostGridItem,posts:a,shouldSpawnModals:d("PolarisSizing").shouldSpawnModals(this.props.viewportWidth),sizeCache:this.$3,visibleCount:a?a.length:0},"virtual_top_posts")};e.render=function(){return k.jsxs("article",{className:this.props.className,children:[this.props.children,typeof this.props.photoComponentRenderer==="function"?this.props.photoComponentRenderer():this.renderPhotosComponent(),this.state.showModal?this.renderPostModal():null]})};return b}(k.Component);a.defaultProps={mediaLinkBuilder:d("PolarisLinkBuilder").buildMediaLink,shouldSpawnPostModal:!0};b=d("IGRouter.react").withIGRouter(a);g["default"]=b}),98);
__d("PolarisProfileMediaBrowser.react",["PolarisConfig","PolarisMediaBrowser.react","PolarisProfilePostsActionConstants","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.PostGridItem,e=a.className,f=a.endCursor,g=a.hasAutoload,h=a.hidePhotoComponentRenderer,j=a.isFetching,k=a.isOldestPostLoaded,l=a.isPostNumLimited,m=a.maxPostsToDisplay,n=a.mediaLinkBuilder,o=a.onClick,p=a.onIntentClick,q=a.onPostImpression,r=a.onRequestFirst,s=a.onRequestNext,t=a.overscanRowsCount,u=a.postCount,v=a.posts,w=a.shouldSpawnPostModal;w=w===void 0?!0:w;var x=a.user;a=a.viewportWidth;var y=function(a){if(j||k)return;a<=d("PolarisProfilePostsActionConstants").PAGE_SIZE?r(x.id):s(x.id)};return i.jsx(c("PolarisMediaBrowser.react"),{allowSampledScrollLogging:!0,analyticsContext:d("PolarisConfig").getViewerId()===x.id?"selfProfilePage":"profilePage",className:e,endCursor:f,hidePhotoComponentRenderer:h,isFetching:j,isMostRecentPostNumLimited:l,isOldestPostLoaded:k,maxPostsToDisplay:m,mediaLinkBuilder:n,onClick:o,onImpression:q,onIntentClick:p,onPostLoadTargetChange:y,overscanRowsCount:t,postCount:u,PostGridItem:b,posts:v,profileUser:x,scrollLoadingEnabled:g!=null||(v==null?void 0:v.length)>12,shouldSpawnPostModal:w,viewportWidth:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisAddCollectionPostPreviewOverlay.react",["cx","fbt","IGDSBox.react","IGDSCheckPanoFilledIcon.react","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react");function a(a){var b=a.isActive;a=a.isSelected;b=b||a;return k.jsx("div",{className:"_aatq"+(b?" _aatr":""),children:a&&k.jsx(c("IGDSBox.react"),{alignItems:"center",justifyContent:"center",position:"relative",children:k.jsx(c("IGDSCheckPanoFilledIcon.react"),{alt:i._("__JHASH__9-N0gVGJsAU__JHASH__"),color:"ig-primary-background"})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisAddCollectionPostPreview.react",["cx","fbt","IGDSBox.react","PolarisAddCollectionPostPreviewOverlay.react","PolarisIGCorePressable.react","PolarisThumbnail.react","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||(j=d("react")),l=j.useState,m=134;function a(a){var b=a.index,d=a.posts,e=a.selectedPostIds;a=a.updateSelectedPostIds;d=d[b];return k.jsx(c("IGDSBox.react"),{height:m,position:"relative",width:m,children:k.jsx(n,{post:d,selectedPostIds:e,updateSelectedPostIds:a})},d.id)}a.displayName=a.name+" [from "+f.id+"]";function b(a){return k.jsx(c("IGDSBox.react"),{height:m,position:"relative",width:m},a)}b.displayName=b.name+" [from "+f.id+"]";function n(a){var b=a.post,d=a.selectedPostIds,e=a.updateSelectedPostIds;a=b.thumbnailSrc;var f=l(!1),g=f[0],h=f[1];return k.jsxs(c("PolarisIGCorePressable.react"),{className:"_aamg",onMouseEnter:function(){return h(!0)},onMouseLeave:function(){return h(!1)},onPress:function(){return e(b.id)},children:[a!=null?k.jsx(c("PolarisThumbnail.react"),{alt:i._("__JHASH__e0HXfExuvfL__JHASH__"),src:a}):null,k.jsx(c("PolarisAddCollectionPostPreviewOverlay.react"),{isActive:g,isSelected:d.includes(b.id)})]})}n.displayName=n.name+" [from "+f.id+"]";g.POST_PREVIEW_SIZE=m;g.renderAddCollectionPostPreview=a;g.renderAddCollectionPostPlaceholder=b}),98);
__d("PolarisAddCollectionPostPicker.react",["IGDSBox.react","IGDSSpinner.react","PolarisAddCollectionPostPreview.react","PolarisIGVirtualGrid.react","PolarisReactRedux.react","PolarisSavedPostsActionRequestSavedCollectionPosts","PolarisSavedPostsTypes","PolarisScrollWatchedComponent.react","PolarisScrollableContainer.react","polarisSavedPostsSelectors","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useCallback,k=b.useEffect,l={x:1,y:2},m=3,n=600;function o(a){return a.moreAvailable&&!a.isFetching}function p(a,b){o(a)&&b()}function a(a){var b=a.selectedPostIds,e=a.updateSelectedPostIds,f=a.userId,g=d("PolarisReactRedux.react").useDispatch(),h=d("PolarisReactRedux.react").useSelector(function(a){return d("polarisSavedPostsSelectors").getVisiblePostsSavedByUserFromCollection(a,{collectionId:d("PolarisSavedPostsTypes").SAVED_COLLECTION_TYPE.ALL_MEDIA_AUTO_COLLECTION,userId:f})}),q=j(function(){return d("PolarisSavedPostsActionRequestSavedCollectionPosts").requestSavedCollectionPosts(d("PolarisSavedPostsTypes").SAVED_COLLECTION_TYPE.ALL_MEDIA_AUTO_COLLECTION,f)},[f]);k(function(){g(q())},[g,q]);var r=d("PolarisReactRedux.react").useSelector(function(a){return d("polarisSavedPostsSelectors").getSavedCollectionsMediaPaginationForUser(a,{collectionId:d("PolarisSavedPostsTypes").SAVED_COLLECTION_TYPE.ALL_MEDIA_AUTO_COLLECTION,userId:f})});a=h.length>0||!r.isFetching&&!r.moreAvailable;return i.jsx(i.Fragment,{children:a?i.jsxs(d("PolarisScrollableContainer.react").ScrollableContainer,{children:[i.jsx(c("IGDSBox.react"),{alignItems:"center",justifyContent:"center",overflow:"scrollY",position:"relative",children:i.jsx(c("IGDSBox.react"),{height:"auto",position:"relative",children:i.jsx(c("PolarisIGVirtualGrid.react"),{containerSize:n,itemCount:h.length,itemsPerRow:m,renderer:function(a){a=a.index;return d("PolarisAddCollectionPostPreview.react").renderAddCollectionPostPreview({index:a,posts:h,selectedPostIds:b,updateSelectedPostIds:e})},rendererPlaceholder:d("PolarisAddCollectionPostPreview.react").renderAddCollectionPostPlaceholder})})}),r.isFetching&&i.jsx(c("IGDSBox.react"),{alignItems:"center",marginTop:1,position:"relative",children:i.jsx(c("IGDSSpinner.react"),{size:"medium"})}),o(r)&&i.jsx(c("PolarisScrollWatchedComponent.react"),{boundScaleFactor:l,onScrollEnter:function(){return p(r,function(){return g(d("PolarisSavedPostsActionRequestSavedCollectionPosts").requestSavedCollectionPosts(d("PolarisSavedPostsTypes").SAVED_COLLECTION_TYPE.ALL_MEDIA_AUTO_COLLECTION,f))})}})]}):i.jsx(c("IGDSBox.react"),{alignItems:"center",height:n,marginTop:4,position:"relative",children:i.jsx(c("IGDSSpinner.react"),{size:"medium"})})})}a.displayName=a.name+" [from "+f.id+"]";g.POST_PICKER_HEIGHT=n;g.AddCollectionPostPicker=a}),98);
__d("PolarisAddCollectionModal.react",["IGCoreDialog.react","IGDSBox.react","PolarisAddCollectionPostPicker.react","PolarisGenericStrings","PolarisIGCoreModalHeader.react","PolarisSavedCollectionStrings","nullthrows","react","usePolarisViewer"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useState;function a(a){var b=a.allowEmptySelection;b=b===void 0?!0:b;var e=a.disablePopInAnimation,f=a.onBack,g=a.onClose,h=a.onDone;a=a.requestInFlight;var k=c("nullthrows")(c("usePolarisViewer")()),l=j([]),m=l[0],n=l[1];l=function(a){m.includes(a)?n(function(b){return[].concat(b).filter(function(b){return b!==a})}):n(function(b){return[].concat(b,[a])})};b=m.length===0&&!b||a;return i.jsxs(d("IGCoreDialog.react").IGCoreDialog,{disablePopInAnimation:e,onModalClose:g,children:[i.jsx(c("PolarisIGCoreModalHeader.react"),{onBack:f,onClose:g,children:i.jsx(c("IGDSBox.react"),{padding:4,position:"relative",children:d("PolarisSavedCollectionStrings").ADD_FROM_SAVED_TEXT})}),i.jsx(c("IGDSBox.react"),{flex:"shrink",maxHeight:d("PolarisAddCollectionPostPicker.react").POST_PICKER_HEIGHT,overflow:"auto",position:"relative",children:i.jsx(d("PolarisAddCollectionPostPicker.react").AddCollectionPostPicker,{selectedPostIds:m,updateSelectedPostIds:l,userId:k.id})}),i.jsx(d("IGCoreDialog.react").IGCoreDialogItem,{color:"ig-primary-button",disabled:b,loading:a,onClick:function(){return h(m)},children:d("PolarisGenericStrings").DONE_TEXT})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("getPolarisVideoSourceByVersions",["PolarisMediaTypes"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return a==null?null:(a=a.find(function(a){return b.includes(d("PolarisMediaTypes").MediaVersionType.cast(a.type))}))==null?void 0:a.url}g["default"]=a}),98);
__d("PolarisGridItemVideoPreview.react",["CometImage.react","PolarisVideo.react","VideoAutoplayLocalScopeProvider.react","VideoPlayerAutoplayRulesProvider","VideoPlayerHooks","VideoPlayerSurface.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react")),k=h.useEffect,l={coverPhoto:{height:"x5yr21d",$$css:!0},coverPhotoContainer:{display:"x78zum5",height:"x5yr21d",justifyContent:"xl56j7k",overflowX:"x6ikm8r",overflowY:"x10wlt62",width:"xh8yej3",$$css:!0}},m=d("VideoPlayerAutoplayRulesProvider").provideAutoplayRules("polaris_grid");function n(a){var b=a.coverPhoto,e=a.previewDurationMs,f=(i||(i=d("VideoPlayerHooks"))).useController();a=i.usePlaying();var g=i.useCurrentTimeThrottled(500),h=f.internal_getVideoElement();k(function(){h!=null&&(h.style.objectFit="cover")},[h]);k(function(){e!=null&&g*1e3>e&&f.seek(0)},[f,g,e]);return!a?j.jsx("div",{className:"x78zum5 x5yr21d xl56j7k x6ikm8r x10wlt62 xh8yej3",children:b!=null&&j.jsx(c("CometImage.react"),{src:b,xstyle:l.coverPhoto})}):null}n.displayName=n.name+" [from "+f.id+"]";function a(a){var b=a.coverPhoto,d=a.previewDurationMs,e=a.videoID;a=a.videoSrc;return j.jsx(c("VideoAutoplayLocalScopeProvider.react"),{autoplayLocalRules:m,children:j.jsx(c("PolarisVideo.react"),{autoplay:!0,loopCount:-1,mediaId:e,sdSrc:a,children:j.jsx(c("VideoPlayerSurface.react"),{children:j.jsx(n,{coverPhoto:b,previewDurationMs:d})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);